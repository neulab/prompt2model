{"pretrained_model_name": "ThomasSimonini/t5-end2end-question-generation", "description": "---\nlicense: apache-2.0\ntags:\n- generated_from_trainer\ndatasets:\n- squad\nmodel-index:\n- name: t5-end2end-question-generation\n  results:\n  - task:\n      name: Sequence-to-sequence Language Modeling\n      type: text2text-generation\n    dataset:\n      name: squad\n      type: squad\n      args: plain_text\n---\n\n# t5-end2end-question-generation\n\nThis model is a fine-tuned version of [t5-base](https://huggingface.co/t5-base) on the squad dataset to generate questions based on a context. \n\n\n\ud83d\udc49 If you want to learn how to fine-tune the t5 model to do the same, you can follow this [tutorial](https://colab.research.google.com/drive/1z-Zl2hftMrFXabYfmz8o9YZpgYx6sGeW?usp=sharing)\n\n\nFor instance:\n```\nContext: \"Python is an interpreted, high-level, general-purpose programming language. Created by Guido van Rossum and first released in 1991, Python's design philosophy emphasizes code readability with its notable use of significant whitespace.\"\n```\n```\nQuestions:\n\n    Who created Python?,\n    When was Python first released?\n    What is Python's design philosophy?\n```\n\nIt achieves the following results on the evaluation set:\n- Loss: 1.5691\n\n\n## Use the Model\n```\nfrom transformers import T5ForConditionalGeneration, T5TokenizerFast\n\nhfmodel = T5ForConditionalGeneration.from_pretrained(\"ThomasSimonini/t5-end2end-question-generation\")\n\ntext= \"The abolition of feudal privileges by the National Constituent Assembly on 4 August 1789 and the Declaration \\\\nof the Rights of Man and of the Citizen (La D\u00e9claration des Droits de l'Homme et du Citoyen), drafted by Lafayette \\\\nwith the help of Thomas Jefferson and adopted on 26 August, paved the way to a Constitutional Monarchy \\\\n(4 September 1791 \u2013 21 September 1792). Despite these dramatic changes, life at the court continued, while the situation \\\\nin Paris was becoming critical because of bread shortages in September. On 5 October 1789, a crowd from Paris descended upon Versailles \\\\nand forced the royal family to move to the Tuileries Palace in Paris, where they lived under a form of house arrest under \\\\nthe watch of Lafayette's Garde Nationale, while the Comte de Provence and his wife were allowed to reside in the \\\\nPetit Luxembourg, where they remained until they went into exile on 20 June 1791.\"\n\ndef run_model(input_string, **generator_args):\n  generator_args = {\n  \"max_length\": 256,\n  \"num_beams\": 4,\n  \"length_penalty\": 1.5,\n  \"no_repeat_ngram_size\": 3,\n  \"early_stopping\": True,\n  }\n  input_string = \"generate questions: \" + input_string + \" </s>\"\n  input_ids = tokenizer.encode(input_string, return_tensors=\"pt\")\n  res = hfmodel.generate(input_ids, **generator_args)\n  output = tokenizer.batch_decode(res, skip_special_tokens=True)\n  output = [item.split(\"<sep>\") for item in output]\n  return output\n  \nrun_model(text)\n\n=> [['When did the National Constituent Assembly abolish feudal privileges?',\n  ' Who drafted the Declaration of the Rights of Man and of the Citizen?',\n  ' When was the Constitutional Monarchy established?',\n  ' What was the name of the Declaration that paved the way to a constitutional monarchy?',\n  '']]\n\n```\n\n### Training hyperparameters\n\nThe following hyperparameters were used during training:\n- learning_rate: 0.0001\n- train_batch_size: 4\n- eval_batch_size: 4\n- seed: 42\n- gradient_accumulation_steps: 16\n- total_train_batch_size: 64\n- optimizer: Adam with betas=(0.9,0.999) and epsilon=1e-08\n- lr_scheduler_type: linear\n- num_epochs: 7\n\n### Training results\n\n| Training Loss | Epoch | Step | Validation Loss |\n|:-------------:|:-----:|:----:|:---------------:|\n| 2.5834        | 0.34  | 100  | 1.9107          |\n| 1.9642        | 0.68  | 200  | 1.7227          |\n| 1.8526        | 1.02  | 300  | 1.6627          |\n| 1.7383        | 1.36  | 400  | 1.6354          |\n| 1.7223        | 1.69  | 500  | 1.6154          |\n| 1.6871        | 2.03  | 600  | 1.6096          |\n| 1.6309        | 2.37  | 700  | 1.6048          |\n| 1.6242        | 2.71  | 800  | 1.5923          |\n| 1.6226        | 3.05  | 900  | 1.5855          |\n| 1.5645        | 3.39  | 1000 | 1.5874          |\n| 1.5705        | 3.73  | 1100 | 1.5822          |\n| 1.5543        | 4.07  | 1200 | 1.5817          |\n| 1.5284        | 4.41  | 1300 | 1.5841          |\n| 1.5275        | 4.75  | 1400 | 1.5741          |\n| 1.5269        | 5.08  | 1500 | 1.5715          |\n| 1.5079        | 5.42  | 1600 | 1.5701          |\n| 1.4876        | 5.76  | 1700 | 1.5754          |\n| 1.498         | 6.1   | 1800 | 1.5699          |\n| 1.4852        | 6.44  | 1900 | 1.5693          |\n| 1.4776        | 6.78  | 2000 | 1.5691          |\n\n\n### Framework versions\n\n- Transformers 4.10.3\n- Pytorch 1.9.0+cu102\n- Datasets 1.12.1\n- Tokenizers 0.10.3\n", "size_bytes": "891647935", "downloads": 2379}