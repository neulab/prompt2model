{"pretrained_model_name": "ml6team/distilbart-tos-summarizer-tosdr", "description": "---\nlanguage:\n- en\ntags:\n- summarization\n- t&c\n- tos\n- distilbart\n- distilbart-6-6\ndatasets:\n- tosdr\nmetrics:\n- rouge1\n- rouge2\n- rougel\ninference:\n  parameters:\n    min_length: 5\n    max_length: 512\n    do_sample: False\nwidget:\n- text: \"In addition, certain portions of the Web Site may be subject to additional terms of use that we make available for your review or otherwise link to that portion of the Web Site to which such additional terms apply. By using such portions, or any part thereof, you agree to be bound by the additional terms of use applicable to such portions. Age Restrictions The Web Site may be accessed and used only by individuals who can form legally binding contracts under applicable laws, who are at least 18 years of age or the age of majority in their state or territory of residence (if higher than 18), and who are not barred from using the Web Site under applicable laws. Our Technology may not be copied, modified, reproduced, republished, posted, transmitted, sold, offered for sale, or redistributed in any way without our prior written permission and the prior written permission of our applicable licensors. Nothing in these Site Terms of Use grants you any right to receive delivery of a copy of Our Technology or to obtain access to Our Technology except as generally and ordinarily permitted through the Web Site according to these Site Terms of Use. Furthermore, nothing in these Site Terms of Use will be deemed to grant you, by implication, estoppel or otherwise, a license to Our Technology. Certain of the names, logos, and other materials displayed via the Web site constitute trademarks, tradenames, service marks or logos (\u201cMarks\u201d) of us or other entities. You are not authorized to use any such Marks. Ownership of all such Marks and the goodwill associated therewith remains with us or those other entities. Any use of third party software provided in connection with the Web Site will be governed by such third parties\u2019 licenses and not by these Site Terms of Use. Information on this Web Site may contain technical inaccuracies or typographical errors. Lenovo provides no assurances that any reported problems may be resolved with the use of any information that Lenovo provides.\"\n---\n\n# T&C Summarization Model   \n\nT&C Summarization Model based on [sshleifer/distilbart-cnn-6-6](https://huggingface.co/sshleifer/distilbart-cnn-6-6), \n\nThis abstractive summarization model is a part of a bigger end-to-end T&C summarizer pipeline \nwhich is preceded by LSA (Latent Semantic Analysis) extractive summarization. The extractive \nsummarization shortens the T&C to be further summarized by this model.\n\n## Finetuning Corpus\n\nWe collaborated with [TOSDR](https://tosdr.org/) to work with their data, and the model is finetuned accordingly. The article and \nsummarization text is reduced via extractive summarization before it is finetuned to the model.\n\n## Contact Us\n\nhttps://ml6.eu/ . \n\nThis abstractive model finetuning is the continuation of the Christmas Project 2021 done in ML6: https://bit.ly/XmasProjects .\n\n## Load Finetuned Model\n\n```\nfrom transformers import AutoTokenizer, AutoModelForSeq2SeqLM\n\ntokenizer = AutoTokenizer.from_pretrained(\"ml6team/distilbart-tos-summarizer-tosdr\")\n\nmodel = AutoModelForSeq2SeqLM.from_pretrained(\"ml6team/distilbart-tos-summarizer-tosdr\")\n```\n\n## Code Sample\n\nThis sample requires [sumy](https://pypi.org/project/sumy/), the LSA Extractive Summarization library, as additional package to \nrun.\n\n```\nimport re\nimport nltk\nnltk.download('punkt')\nfrom sumy.parsers.plaintext import PlaintextParser\nfrom sumy.nlp.tokenizers import Tokenizer\nfrom sumy.nlp.stemmers import Stemmer\nfrom sumy.summarizers.lsa import LsaSummarizer\nfrom transformers import AutoTokenizer, AutoModelForSeq2SeqLM\n\nLANGUAGE = \"english\"\nEXTRACTED_ARTICLE_SENTENCES_LEN = 12\n\nstemmer = Stemmer(LANGUAGE)\nlsa_summarizer = LsaSummarizer(stemmer)\ntokenizer = AutoTokenizer.from_pretrained(\"ml6team/distilbart-tos-summarizer-tosdr\")\nmodel = AutoModelForSeq2SeqLM.from_pretrained(\"ml6team/distilbart-tos-summarizer-tosdr\")\n\ndef get_extractive_summary(text, sentences_count):\n  parser = PlaintextParser.from_string(text, Tokenizer(LANGUAGE))\n  summarized_info = lsa_summarizer(parser.document, sentences_count)\n  summarized_info = [element._text for element in summarized_info]\n  return ' '.join(summarized_info)\n\ndef get_summary(dict_summarizer_model, dict_tokenizer, text_content):\n  text_content = get_extractive_summary(text_content, EXTRACTED_ARTICLE_SENTENCES_LEN)\n  tokenizer = dict_tokenizer['tokenizer']\n  model = dict_summarizer_model['model']\n\n  inputs = tokenizer(text_content, max_length=dict_tokenizer['max_length'], truncation=True, return_tensors=\"pt\")\n  outputs = model.generate(\n      inputs[\"input_ids\"], max_length=dict_summarizer_model['max_length'], min_length=dict_summarizer_model['min_length'], \n  )\n\n  summarized_text = tokenizer.decode(outputs[0])\n  match = re.search(r\"<s>(.*)</s>\", summarized_text)\n  if match is not None: summarized_text = match.group(1)\n\n  return summarized_text.replace('<s>', '').replace('</s>', '') \n  \ntest_tos = \"\"\"\n  In addition, certain portions of the Web Site may be subject to additional terms of use that we make available for your review or otherwise link to that portion of the Web Site to which such additional terms apply. By using such portions, or any part thereof, you agree to be bound by the additional terms of use applicable to such portions. \n  Age Restrictions The Web Site may be accessed and used only by individuals who can form legally binding contracts under applicable laws, who are at least 18 years of age or the age of majority in their state or territory of residence (if higher than 18), and who are not barred from using the Web Site under applicable laws. \n  Our Technology may not be copied, modified, reproduced, republished, posted, transmitted, sold, offered for sale, or redistributed in any way without our prior written permission and the prior written permission of our applicable licensors. Nothing in these Site Terms of Use grants you any right to receive delivery of a copy of Our Technology or to obtain access to Our Technology except as generally and ordinarily permitted through the Web Site according to these Site Terms of Use. \n  Furthermore, nothing in these Site Terms of Use will be deemed to grant you, by implication, estoppel or otherwise, a license to Our Technology. Certain of the names, logos, and other materials displayed via the Web site constitute trademarks, tradenames, service marks or logos (\u201cMarks\u201d) of us or other entities. You are not authorized to use any such Marks. Ownership of all such Marks and the goodwill associated therewith remains with us or those other entities. \n  Any use of third party software provided in connection with the Web Site will be governed by such third parties\u2019 licenses and not by these Site Terms of Use. Information on this Web Site may contain technical inaccuracies or typographical errors. Lenovo provides no assurances that any reported problems may be resolved with the use of any information that Lenovo provides\n\"\"\"\n\nmodel_dict = {\n  'model': model, \n  'max_length': 512,\n  'min_length': 4\n}\n\ntokenizer_dict = {\n  'tokenizer': tokenizer, \n  'max_length': 1024\n}\n\nprint(get_summary(model_dict, tokenizer_dict, test_tos))\n```\n", "size_bytes": "920029944", "downloads": 35}