{"pretrained_model_name": "pietrolesci/t5v1_1-base-mnli", "description": "## Overview\nT5-Base v1.1 model trained to generate hypotheses given a premise and a label. Below the settings used to train it\n\n```yaml\n                                                                                                                  \nExperiment configurations                                                                                         \n\u251c\u2500\u2500 datasets                                                                                                      \n\u2502   \u2514\u2500\u2500 mnli_train:                                                                                               \n\u2502         dataset_name: multi_nli                                                                                 \n\u2502         dataset_config_name: null                                                                               \n\u2502         cache_dir: null                                                                                         \n\u2502         input_fields:                                                                                           \n\u2502         - premise                                                                                               \n\u2502         - hypothesis                                                                                            \n\u2502         target_field: label                                                                                     \n\u2502         train_subset_names: null                                                                                \n\u2502         val_subset_names: validation_matched                                                                    \n\u2502         test_subset_names: none                                                                                 \n\u2502         train_val_split: null                                                                                   \n\u2502         limit_train_samples: null                                                                               \n\u2502         limit_val_samples: null                                                                                 \n\u2502         limit_test_samples: null                                                                                \n\u2502         sampling_kwargs:                                                                                        \n\u2502           sampling_strategy: random                                                                             \n\u2502           seed: 42                                                                                              \n\u2502           replace: false                                                                                        \n\u2502         align_labels_with_mapping: null                                                                         \n\u2502         avoid_consistency_check: false                                                                          \n\u2502         predict_label_mapping: null                                                                             \n\u2502       mnli:                                                                                                     \n\u2502         dataset_name: multi_nli                                                                                 \n\u2502         dataset_config_name: null                                                                               \n\u2502         cache_dir: null                                                                                         \n\u2502         input_fields:                                                                                           \n\u2502         - premise                                                                                               \n\u2502         - hypothesis                                                                                            \n\u2502         target_field: label                                                                                     \n\u2502         train_subset_names: none                                                                                \n\u2502         val_subset_names: none                                                                                  \n\u2502         test_subset_names: validation_mismatched                                                                \n\u2502         train_val_split: null                                                                                   \n\u2502         limit_train_samples: null                                                                               \n\u2502         limit_val_samples: null                                                                                 \n\u2502         limit_test_samples: null                                                                                \n\u2502         sampling_kwargs:                                                                                        \n\u2502           sampling_strategy: random                                                                             \n\u2502           seed: 42                                                                                              \n\u2502           replace: false                                                                                        \n\u2502         align_labels_with_mapping: null                                                                         \n\u2502         avoid_consistency_check: false                                                                          \n\u2502         predict_label_mapping: null                                                                             \n\u2502                                                                                                                 \n\u251c\u2500\u2500 data                                                                                                          \n\u2502   \u2514\u2500\u2500 _target_: src.task.nli.data.NLIGenerationData.from_config                                                 \n\u2502       main_dataset_name: null                                                                                   \n\u2502       use_additional_as_test: null                                                                              \n\u2502       dataloader:                                                                                               \n\u2502         batch_size: 64                                                                                          \n\u2502         eval_batch_size: 100                                                                                    \n\u2502         num_workers: 16                                                                                         \n\u2502         pin_memory: true                                                                                        \n\u2502         drop_last: false                                                                                        \n\u2502         persistent_workers: false                                                                               \n\u2502         shuffle: true                                                                                           \n\u2502         seed_dataloader: 42                                                                                     \n\u2502         replacement: false                                                                                      \n\u2502       processing:                                                                                               \n\u2502         preprocessing_num_workers: 16                                                                           \n\u2502         preprocessing_batch_size: 1000                                                                          \n\u2502         load_from_cache_file: true                                                                              \n\u2502         padding: longest                                                                                        \n\u2502         truncation: longest_first                                                                               \n\u2502         max_source_length: 128                                                                                  \n\u2502         max_target_length: 128                                                                                  \n\u2502         template: 'premise: $premise $label hypothesis: '                                                       \n\u2502       tokenizer:                                                                                                \n\u2502         _target_: transformers.AutoTokenizer.from_pretrained                                                    \n\u2502         pretrained_model_name_or_path: google/t5-v1_1-base                                                      \n\u2502         use_fast: true                                                                                          \n\u2502                                                                                                                 \n\u251c\u2500\u2500 task                                                                                                          \n\u2502   \u2514\u2500\u2500 optimizer:                                                                                                \n\u2502         name: Adafactor                                                                                         \n\u2502         lr: 0.001                                                                                               \n\u2502         weight_decay: 0.0                                                                                       \n\u2502         no_decay:                                                                                               \n\u2502         - bias                                                                                                  \n\u2502         - LayerNorm.weight                                                                                      \n\u2502         decay_rate: -0.8                                                                                        \n\u2502         clip_threshold: 1.0                                                                                     \n\u2502         relative_step: false                                                                                    \n\u2502         scale_parameter: false                                                                                  \n\u2502         warmup_init: false                                                                                      \n\u2502       scheduler:                                                                                                \n\u2502         name: constant_schedule                                                                                 \n\u2502       model:                                                                                                    \n\u2502         model_name_or_path: google/t5-v1_1-base                                                                 \n\u2502       checkpoint_path: null                                                                                     \n\u2502       freeze: false                                                                                             \n\u2502       seed_init_weight: 42                                                                                      \n\u2502       _target_: src.task.nli.NLIGenerationTask.from_config                                                      \n\u2502       generation:                                                                                               \n\u2502         max_length: 128                                                                                         \n\u2502         min_length: 3                                                                                           \n\u2502         do_sample: true                                                                                         \n\u2502         early_stopping: false                                                                                   \n\u2502         num_beams: 1                                                                                            \n\u2502         temperature: 1.0                                                                                        \n\u2502         top_k: 50                                                                                               \n\u2502         top_p: 0.95                                                                                             \n\u2502         repetition_penalty: null                                                                                \n\u2502         length_penalty: null                                                                                    \n\u2502         no_repeat_ngram_size: null                                                                              \n\u2502         encoder_no_repeat_ngram_size: null                                                                      \n\u2502         num_return_sequences: 1                                                                                 \n\u2502         max_time: null                                                                                          \n\u2502         max_new_tokens: null                                                                                    \n\u2502         decoder_start_token_id: null                                                                            \n\u2502         use_cache: null                                                                                         \n\u2502         num_beam_groups: null                                                                                   \n\u2502         diversity_penalty: null                                                                                 \n\u2502                                                                                                                 \n\u251c\u2500\u2500 trainer                                                                                                       \n\u2502   \u2514\u2500\u2500 _target_: pytorch_lightning.Trainer                                                                       \n\u2502       callbacks:                                                                                                \n\u2502         lr_monitor:                                                                                             \n\u2502           _target_: pytorch_lightning.callbacks.LearningRateMonitor                                             \n\u2502           logging_interval: step                                                                                \n\u2502           log_momentum: false                                                                                   \n\u2502         model_checkpoint:                                                                                       \n\u2502           _target_: pytorch_lightning.callbacks.ModelCheckpoint                                                 \n\u2502           dirpath: ./checkpoints/                                                                               \n\u2502           filename: nli_generator_mnli-epoch={epoch:02d}-val_loss={val/aggregated_loss:.2f}                     \n\u2502           monitor: val/aggregated_loss                                                                          \n\u2502           mode: min                                                                                             \n\u2502           verbose: false                                                                                        \n\u2502           save_last: true                                                                                       \n\u2502           save_top_k: 1                                                                                         \n\u2502           auto_insert_metric_name: false                                                                        \n\u2502           save_on_train_epoch_end: false                                                                        \n\u2502         rich_model_summary:                                                                                     \n\u2502           _target_: pytorch_lightning.callbacks.RichModelSummary                                                \n\u2502           max_depth: 1                                                                                          \n\u2502         log_grad_norm:                                                                                          \n\u2502           _target_: src.core.callbacks.LogGradNorm                                                              \n\u2502           norm_type: 2                                                                                          \n\u2502           group_separator: /                                                                                    \n\u2502           only_total: true                                                                                      \n\u2502           on_step: true                                                                                         \n\u2502           on_epoch: false                                                                                       \n\u2502           prog_bar: true                                                                                        \n\u2502         log_generated_text:                                                                                     \n\u2502           _target_: src.core.callbacks.GenerateAndLogText                                                       \n\u2502           dirpath: ./generated_text                                                                             \n\u2502           type: generated_text                                                                                  \n\u2502           pop_keys_after_logging: true                                                                          \n\u2502           on_train: false                                                                                       \n\u2502           on_validation: false                                                                                  \n\u2502           on_test: true                                                                                         \n\u2502           log_to_wandb: true                                                                                    \n\u2502         wandb_log_dataset_sizes:                                                                                \n\u2502           _target_: src.core.callbacks.WandbLogDatasetSizes                                                     \n\u2502       logger:                                                                                                   \n\u2502         wandb:                                                                                                  \n\u2502           _target_: pytorch_lightning.loggers.WandbLogger                                                       \n\u2502           project: nli_debiasing                                                                                \n\u2502           entity: team_brushino                                                                                 \n\u2502           name: nli_generator_mnli                                                                              \n\u2502           save_dir: ./                                                                                          \n\u2502           offline: false                                                                                        \n\u2502           log_model: false                                                                                      \n\u2502           group: mnli                                                                                           \n\u2502           job_type: generator                                                                                   \n\u2502           tags:                                                                                                 \n\u2502           - nli_generator_mnli                                                                                  \n\u2502           - seed=42                                                                                             \n\u2502           - seed_dataloader=42                                                                                  \n\u2502           notes: nli_generator_mnli_time=02-24-53                                                               \n\u2502       enable_checkpointing: true                                                                                \n\u2502       enable_progress_bar: true                                                                                 \n\u2502       enable_model_summary: true                                                                                \n\u2502       gradient_clip_val: 0.0                                                                                    \n\u2502       gradient_clip_algorithm: null                                                                             \n\u2502       accelerator: gpu                                                                                          \n\u2502       devices: auto                                                                                             \n\u2502       gpus: null                                                                                                \n\u2502       auto_select_gpus: true                                                                                    \n\u2502       accumulate_grad_batches: 1                                                                                \n\u2502       max_epochs: 3                                                                                             \n\u2502       min_epochs: 1                                                                                             \n\u2502       max_steps: -1                                                                                             \n\u2502       min_steps: null                                                                                           \n\u2502       max_time: null                                                                                            \n\u2502       num_sanity_val_steps: 2                                                                                   \n\u2502       overfit_batches: 0.0                                                                                      \n\u2502       fast_dev_run: false                                                                                       \n\u2502       limit_train_batches: 1.0                                                                                  \n\u2502       limit_val_batches: 1.0                                                                                    \n\u2502       limit_test_batches: 1.0                                                                                   \n\u2502       profiler: null                                                                                            \n\u2502       detect_anomaly: false                                                                                     \n\u2502       deterministic: false                                                                                      \n\u2502       check_val_every_n_epoch: 1                                                                                \n\u2502       val_check_interval: 0.1                                                                                   \n\u2502       log_every_n_steps: 10                                                                                     \n\u2502       move_metrics_to_cpu: false                                                                                \n\u2502                                                                                                                 \n\u2514\u2500\u2500 training                                                                                                      \n    \u2514\u2500\u2500 run_val_before_fit: false                                                                                 \n        run_val_after_fit: false                                                                                  \n        run_test_before_fit: false                                                                                \n        run_test_after_fit: true                                                                                  \n        lr: 0.001                                                                                                 \n        seed: 42                                                                                                  \n        show_batch: false                                                                                         \n        batch_size: 64                                                                                            \n        eval_batch_size: 100                                                                                      \n        num_workers: 16                                                                                           \n        pin_memory: true                                                                                          \n        drop_last: false                                                                                          \n        persistent_workers: false                                                                                 \n        shuffle: true                                                                                             \n        seed_dataloader: 42                                                                                       \n        ignore_warnings: true                                                                                     \n        experiment_name: nli_generator_mnli                                                                       \n                                                                                                                 \n```", "size_bytes": "990402637", "downloads": 3}