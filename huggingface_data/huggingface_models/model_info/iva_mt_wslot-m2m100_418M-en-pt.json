{"pretrained_model_name": "cartesinus/iva_mt_wslot-m2m100_418M-en-pt", "description": "---\nlicense: mit\ntags:\n- generated_from_trainer\ndatasets:\n- cartesinus/iva_mt_wslot\nmetrics:\n- bleu\nmodel-index:\n- name: iva_mt_wslot-m2m100_418M-en-pt\n  results:\n  - task:\n      name: Sequence-to-sequence Language Modeling\n      type: text2text-generation\n    dataset:\n      name: iva_mt_wslot\n      type: iva_mt_wslot\n      config: en-pt\n      split: validation\n      args: en-pt\n    metrics:\n    - name: Bleu\n      type: bleu\n      value: 67.0512\nlanguage:\n- en\n- pt\npipeline_tag: translation\n---\n\n<!-- This model card has been generated automatically according to the information the Trainer had access to. You\nshould probably proofread and complete it, then remove this comment. -->\n\n# iva_mt_wslot-m2m100_418M-en-pt\n\nThis model is a fine-tuned version of [facebook/m2m100_418M](https://huggingface.co/facebook/m2m100_418M) on the iva_mt_wslot dataset.\nIt achieves the following results on the evaluation set:\n- Loss: 0.0119\n- Bleu: 67.0512\n- Gen Len: 20.3665\n\n## Model description\n\nMore information needed\n\n## How to use\n\nFirst please make sure to install `pip install transformers`. First download model: \n\n```python\nfrom transformers import M2M100ForConditionalGeneration, M2M100Tokenizer\nimport torch\n\ndef translate(input_text, lang):\n    input_ids = tokenizer(input_text, return_tensors=\"pt\")\n    generated_tokens = model.generate(**input_ids, forced_bos_token_id=tokenizer.get_lang_id(lang))\n    return tokenizer.batch_decode(generated_tokens, skip_special_tokens=True)\n\nmodel_name = \"cartesinus/iva_mt_wslot-m2m100_418M-0.1.0-en-pt\"\ntokenizer = M2M100Tokenizer.from_pretrained(model_name, src_lang=\"en\", tgt_lang=\"pt\")\nmodel = M2M100ForConditionalGeneration.from_pretrained(model_name)\n```\n\nThen you can translate either plain text like this:\n```python\nprint(translate(\"set the temperature on my thermostat\", \"pt\"))\n```\nor you can translate with slot annotations that will be restored in tgt language:\n```python\nprint(translate(\"wake me up at <a>nine am<a> on <b>friday<b>\", \"pt\"))\n```\nLimitations of translation with slot transfer:\n1) Annotated words must be placed between semi-xml tags like this \"this is \\<a\\>example\\<a\\>\"\n2) There is no closing tag for example \"\\<\\a\\>\" in the above example - this is done on purpose to omit problems with backslash escape\n3) If the sentence consists of more than one slot then simply use the next alphabet letter. For example \"this is \\<a\\>example\\<a\\> with more than \\<b\\>one\\<b\\> slot\"\n4) Please do not add space before the first or last annotated word because this particular model was trained this way and it most probably will lower its results\n\n## Training procedure\n\n### Training hyperparameters\n\nThe following hyperparameters were used during training:\n- learning_rate: 2e-05\n- train_batch_size: 4\n- eval_batch_size: 4\n- seed: 42\n- optimizer: Adam with betas=(0.9,0.999) and epsilon=1e-08\n- lr_scheduler_type: linear\n- num_epochs: 7\n- mixed_precision_training: Native AMP\n\n### Training results\n\n| Training Loss | Epoch | Step  | Validation Loss | Bleu    | Gen Len |\n|:-------------:|:-----:|:-----:|:---------------:|:-------:|:-------:|\n| 0.016         | 1.0   | 1842  | 0.0132          | 62.2701 | 20.1343 |\n| 0.0103        | 2.0   | 3684  | 0.0117          | 65.7139 | 20.2191 |\n| 0.0076        | 3.0   | 5526  | 0.0116          | 65.578  | 20.0926 |\n| 0.0059        | 4.0   | 7368  | 0.0115          | 66.3728 | 20.4514 |\n| 0.0043        | 5.0   | 9210  | 0.0117          | 65.8861 | 20.3781 |\n| 0.0033        | 6.0   | 11052 | 0.0117          | 66.6496 | 20.4383 |\n| 0.0026        | 7.0   | 12894 | 0.0119          | 67.0512 | 20.3665 |\n\n\n### Framework versions\n\n- Transformers 4.28.1\n- Pytorch 2.0.0+cu118\n- Datasets 2.11.0\n- Tokenizers 0.13.3\n\n## Citation\n\nIf you use this model, please cite the following:\n```\n@article{Sowanski2023SlotLI,\n  title={Slot Lost in Translation? Not Anymore: A Machine Translation Model for Virtual Assistants with Type-Independent Slot Transfer},\n  author={Marcin Sowanski and Artur Janicki},\n  journal={2023 30th International Conference on Systems, Signals and Image Processing (IWSSIP)},\n  year={2023},\n  pages={1-5}\n}\n```", "size_bytes": "1944201353", "downloads": 23}