{"pretrained_model_name": "svjack/comet-atomic-zh", "description": "---\nlanguage:\n- zh\npipeline_tag: text2text-generation\n---\n\n```python\nfrom transformers import T5ForConditionalGeneration\nfrom transformers import T5TokenizerFast as T5Tokenizer\nimport pandas as pd\nmodel = \"svjack/comet-atomic-zh\"\ndevice = \"cpu\"\n#device = \"cuda:0\"\ntokenizer = T5Tokenizer.from_pretrained(model)\nmodel = T5ForConditionalGeneration.from_pretrained(model).to(device).eval()\n\nNEED_PREFIX = '\u4ee5\u4e0b\u4e8b\u4ef6\u6709\u54ea\u4e9b\u5fc5\u8981\u7684\u5148\u51b3\u6761\u4ef6\uff1a'\nEFFECT_PREFIX = '\u4e0b\u9762\u7684\u4e8b\u4ef6\u53d1\u751f\u540e\u53ef\u80fd\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1a'\nINTENT_PREFIX = '\u4ee5\u4e0b\u4e8b\u4ef6\u7684\u52a8\u673a\u662f\u4ec0\u4e48\uff1a'\nREACT_PREFIX = '\u4ee5\u4e0b\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u4f60\u6709\u4ec0\u4e48\u611f\u89c9\uff1a'\n\nevent = \"X\u5403\u4e86\u4e00\u987f\u7f8e\u9910\u3002\"\nfor prefix in [NEED_PREFIX, EFFECT_PREFIX, INTENT_PREFIX, REACT_PREFIX]:\n    prompt = \"{}{}\".format(prefix, event)\n    encode = tokenizer(prompt, return_tensors='pt').to(device)\n    answer = model.generate(encode.input_ids,\n                           max_length = 128,\n        num_beams=2,\n        top_p = 0.95,\n        top_k = 50,\n        repetition_penalty = 2.5,\n        length_penalty=1.0,\n        early_stopping=True,\n                           )[0]\n    decoded = tokenizer.decode(answer, skip_special_tokens=True)\n    print(prompt, \"\\n---\u7b54\u6848\uff1a\", decoded, \"----\\n\")\n```\n\n</br>\n\n```json\n\u4ee5\u4e0b\u4e8b\u4ef6\u6709\u54ea\u4e9b\u5fc5\u8981\u7684\u5148\u51b3\u6761\u4ef6\uff1aX\u5403\u4e86\u4e00\u987f\u7f8e\u9910\u3002 \n---\u7b54\u6848\uff1a X\u4e70\u4e86\u98df\u7269 ----\n\n\u4e0b\u9762\u7684\u4e8b\u4ef6\u53d1\u751f\u540e\u53ef\u80fd\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1aX\u5403\u4e86\u4e00\u987f\u7f8e\u9910\u3002 \n---\u7b54\u6848\uff1a X\u4f1a\u5403\u5230\u597d\u7684\u98df\u7269 ----\n\n\u4ee5\u4e0b\u4e8b\u4ef6\u7684\u52a8\u673a\u662f\u4ec0\u4e48\uff1aX\u5403\u4e86\u4e00\u987f\u7f8e\u9910\u3002 \n---\u7b54\u6848\uff1a X\u60f3\u5403\u4e1c\u897f ----\n\n\u4ee5\u4e0b\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u4f60\u6709\u4ec0\u4e48\u611f\u89c9\uff1aX\u5403\u4e86\u4e00\u987f\u7f8e\u9910\u3002 \n---\u7b54\u6848\uff1a X\u7684\u5473\u9053\u5f88\u597d ----\n```", "size_bytes": "990438349", "downloads": 11}