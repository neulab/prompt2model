{"pretrained_model_name": "wawaup/MengziT5-Comment", "description": "---\nlanguage: \n  - zh\nlicense: apache-2.0\ndatasets:\n- TencentKuaibao\nmetrics:\n- bleu\n- rouge\n---\n## \u6a21\u578b\n- \u57fa\u4e8e\u4e2d\u6587[MengziT5](https://huggingface.co/Langboat/mengzi-t5-base)\u7684\u65b0\u95fb\u8bc4\u8bba\u751f\u6210\u6a21\u578b\n- \u6570\u636e\u96c6\u6765\u6e90\u4e8e\u8bba\u6587[\u300aCoherent Comment Generation for Chinese Articles with a Graph-to-Sequence Model\u300b](https://github.com/lancopku/Graph-to-seq-comment-generation)\n\n## \u751f\u6210\u8bc4\u8bba\n- \u5728\u7ebfAPI\u53ea\u80fd\u751f\u6210\u4e00\u79cd\u8bc4\u8bba\uff0c\u6a21\u578b\u901a\u8fc7\u8bbe\u7f6emodel.generate()\u53c2\u6570\u662f\u53ef\u4ee5\u751f\u6210\u591a\u79cd\u8bc4\u8bba\u7684\n\n```Python\n\nt5_tokenizer = T5Tokenizer.from_pretrained(\"Langboat/mengzi-t5-base\")\n\nmodel = T5ForConditionalGeneration.from_pretrained(\"wawaup/MengziT5-Comment\")\n\ndef generate_comment(input_ids,cnt_num):\n    outputs = model.generate(input_ids,\n                            max_length=128,\n                            do_sample=True,\n                            temperature=0.9,\n                            early_stopping=True,\n                            repetition_penalty=10.0,\n                            top_p=0.5,\n                            num_return_sequences=cnt_num)\n    print(outputs) \n    preds_cleaned = [t5_tokenizer.decode(ids, skip_special_tokens=True, \n                            clean_up_tokenization_spaces=True) for ids in outputs]\n    print(preds_cleaned)\n    return preds_cleaned\n```", "size_bytes": "990413657", "downloads": 6}